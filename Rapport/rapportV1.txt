1. Le projet

1.1 Mise en contexte
Nous avons réalisé un système de réservation d’hôtels qui fonctionne en trois parties : le client, une agence de voyage et plusieurs hôtels. Le client ne contacte jamais directement les hôtels. Il envoie ses demandes à l’agence, qui se charge de communiquer avec les différents hôtels pour trouver des offres disponibles et proposer la meilleure option.

Ce fonctionnement reproduit le rôle réel d’une agence de voyage : elle centralise les demandes, interroge plusieurs prestataires et renvoie une réponse unique au client.

1.2 Les technologies et les idées
Le projet est basé sur les technologies suivantes :
- SOAP pour les échanges entre services,
- Java avec le framework Spring Boot pour développer les applications,
- Maven pour gérer le projet et ses dépendances.

L’idée principale est de bien séparer les rôles :
- l’hôtel gère les chambres et les réservations,
- l’agence interroge plusieurs hôtels et rassemble les résultats,
- le client envoie les recherches et les confirmations de réservation.

Cette séparation permet de rendre chaque partie indépendante et réutilisable.

2. L’hôtel

2.1 Logique métier
L’hôtel représente un établissement qui propose des chambres à la réservation.
La logique métier principale tourne autour de quelques notions simples :
les chambres, les dates de séjour, le nombre de personnes et l’état des réservations.

Lorsqu’une demande arrive (dates, ville, nombre de personnes),
l’hôtel vérifie quelles chambres sont libres pour cette période. Si une chambre est disponible, il peut la proposer.
Lorsqu’une réservation est confirmée, l’hôtel bloque la chambre pour les dates demandées afin d’éviter les doublons.

La structure interne peut se représenter par un diagramme de classes classique :
une classe pour l’hôtel, une pour les chambres, une pour les réservations et éventuellement des classes pour les périodes ou les clients. L’objectif est de garder une organisation claire et facile à faire évoluer.

2.2 Implémentation du SOAP
L’hôtel expose un service SOAP qui permet à l’agence de le contacter.
Ce service propose des opérations pour rechercher des chambres disponibles et pour créer une réservation.
Concrètement, l’hôtel définit un contrat de service (WSDL et schémas XSD) qui décrit les messages d’entrée et de sortie.
Le serveur Spring Boot met ensuite ce service à disposition sur une URL.
À chaque appel, l’hôtel reçoit une requête SOAP,
applique sa logique métier (vérification de disponibilité, création de réservation) puis renvoie une réponse SOAP structurée.

3. L’agence

3.1 Logique métier
L’agence joue le rôle d’intermédiaire entre le client et les hôtels. Sa logique métier consiste à :
- recevoir une demande de recherche ou de réservation du client,
- interroger plusieurs hôtels,
- rassembler les réponses,
- appliquer éventuellement quelques règles simples (par exemple filtrer par ville, par prix, ou par disponibilité),
- renvoyer au client une réponse unifiée.

Pour une recherche, l’agence envoie la même requête à tous les hôtels concernés. Elle collecte les résultats, les met au même format et les renvoie au client comme si tout venait d’un seul système. Pour une réservation, elle relaie la demande vers l’hôtel choisi.

3.2 Implémentation du SOAP
L’agence expose elle aussi un service SOAP pour communiquer avec le client. Elle est donc à la fois consommatrice de services SOAP (ceux des hôtels) et fournisseuse d’un service SOAP (pour le client).

Le service SOAP de l’agence définit des opérations comme « rechercher des chambres » et « réserver une chambre ». Lorsqu’une requête arrive, l’agence traduit cette demande en appels vers chaque hôtel, attend leurs réponses et construit une réponse globale pour le client. Tout se fait via des messages SOAP normalisés afin de garder un échange robuste et bien défini.

4. Le client

4.1 Logique métier
Le client représente l’utilisateur final du système. Sa logique métier est volontairement simple : formuler une demande de recherche ou de réservation, envoyer cette demande à l’agence, lire la réponse et éventuellement confirmer une réservation.

Pour simplifier le projet, l’interaction se fait en ligne de commande (CLI). L’utilisateur saisit les informations nécessaires (ville, dates, nombre de personnes, etc.), le client envoie la requête à l’agence puis affiche la réponse.

4.2 Comment ça fonctionne
Le client est une application Spring Boot qui agit comme consommateur du service SOAP de l’agence. Il ne parle qu’avec l’agence, jamais directement avec les hôtels.

Lorsqu’on lance le client, celui-ci est configuré pour se connecter au service SOAP de l’agence. Il prépare les messages SOAP attendus, envoie la demande et transforme la réponse reçue en informations lisibles par l’utilisateur. Le but est de masquer toute la complexité technique et de proposer une utilisation la plus simple possible.

5. L’image

5.1 Utilité
L’image sert à rendre l’application plus attractive. Elle illustre un hôtel et aide à donner envie au client de réserver. Même si ce n’est pas indispensable pour la logique métier, c’est important pour l’expérience utilisateur.

5.2 Mise en place
L’image est fournie et servie localement. L’idée est de pouvoir l’afficher depuis le navigateur ou une interface future, en se connectant à l’application via `localhost`. Elle complète le système en apportant un élément visuel simple à intégrer par la suite.

6. Quickstart

Pour faciliter les tests, des scripts sont fournis. Deux fichiers permettent de démarrer rapidement le système : l’un avec un seul hôtel, l’autre avec trois hôtels.

Ces scripts lancent les différentes applications dans le bon ordre. L’utilisateur peut ainsi vérifier le fonctionnement du système dans plusieurs configurations (un hôtel ou plusieurs) sans avoir à tout démarrer manuellement.

7. Évolutions futures

Plusieurs améliorations sont possibles pour faire évoluer ce projet :
- ajouter une véritable interface utilisateur (par exemple une interface web) pour remplacer la ligne de commande,
- connecter le système à une base de données afin de conserver les hôtels, les chambres et les réservations de manière persistante,
- enrichir la logique métier de l’hôtel, par exemple en gérant mieux les cas de concurrence sur les réservations, les annulations ou les modifications de séjour.

Ces évolutions feraient passer le projet d’un prototype pédagogique à un service plus proche d’un système réel.

8. Conclusion

Ce projet montre que SOAP reste une technologie intéressante lorsqu’on a besoin d’échanges fortement typés, avec des contrats bien définis entre services. Les messages sont structurés, validés par des schémas et les interactions sont clairement décrites.

La séparation entre hôtel, agence et client offre une base solide pour un futur service déployable à plus grande échelle. Même si le projet reste simple, il propose déjà une architecture modulaire, extensible et conforme aux principes d’un système distribué.

